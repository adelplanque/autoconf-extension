language: python

python:
  - "2.6"
  - "3.5"
  - "3.6"

install:
  - sudo apt-get install libncurses-dev autoconf autoconf-archive automake pkg-config
  - pwd
  - ls -l
  - ls -l ~
  - ls -l /usr/bin/python*
  - ls -l /usr/lib/x86_64-linux-gnu/libboost_python*
  - which python
  - python -c "import sys; print('\n'.join(sys.path))"
  - python -c "import sys; print(sys.executable); print(sys.version)"
  - env | sort
  - cd ${TRAVIS_BUILD_DIR}/..
  - wget https://dl.bintray.com/boostorg/release/1.69.0/source/boost_1_69_0.tar.bz2
  - tar -xjf boost_1_69_0.tar.bz2
  - cd boost_1_69_0
  - ./bootstrap.sh --with-libraries=python --prefix=${VIRTUAL_ENV}
  - ./b2 install

script:
  - cd ${TRAVIS_BUILD_DIR}
  - python setup.py install
  - cd ${TRAVIS_BUILD_DIR}/..
  - git clone https://github.com/adelplanque/autotools-extension-example.git
  - cd autotools-extension-example
  - python setup.py install
  - cat autoconf/config.log
  - cat autoconf/aclocal.m4
  - echo -e "\n" | python -c "import waouh; waouh.waouh('Hello world')"
